<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LP Studios | Panel de Administración</title>

  <!-- ===== Bootstrap ===== -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- ===== Estilos locales ===== -->
  <link rel="stylesheet" href="/assets/stylesheets/fearless.css">
</head>

<style>
  body {
    background: #e3eaf2 !important;
    color: #222 !important;
  }
  .navbar, .navbar.bg-dark, .card-header.bg-dark {
    background: #e3eaf2 !important;
    color: #1976d2 !important;
  }
  .navbar .navbar-brand, .navbar .nav-link, .navbar .btn {
    color: #1976d2 !important;
  }
  .card {
    background: #fff !important;
    border-radius: 12px !important;
    border: none !important;
    color: #222 !important;
  }
  .card-title, h1, h3, h5, h2, h4 {
    color: #1976d2 !important;
  }
  .btn-primary, .btn-success, .btn-danger, .btn-info {
    background: #1976d2 !important;
    border: none !important;
    color: #fff !important;
  }
  .btn-primary:hover, .btn-success:hover, .btn-danger:hover, .btn-info:hover {
    background: #1565c0 !important;
  }
  .breadcrumb {
    background: transparent !important;
    color: #1976d2 !important;
  }
  .table-dark {
    background: #e3eaf2 !important;
    color: #1976d2 !important;
  }
  .table-dark th, .table-dark td {
    background: #fff !important;
    color: #222 !important;
  }
  .text-light, .navbar .text-light, .breadcrumb-item.active {
    color: #1976d2 !important;
  }
  .bg-dark {
    background: #e3eaf2 !important;
    color: #1976d2 !important;
  }
  .shadow-sm {
    box-shadow: 0 2px 8px #b6c3d133 !important;
  }
  .badge.bg-danger {
    background: #d32f2f !important;
  }
  .btn-outline-light, .btn-outline-danger, .btn-outline-warning {
    color: #1976d2 !important;
    border-color: #1976d2 !important;
  }
  .btn-outline-light:hover, .btn-outline-danger:hover, .btn-outline-warning:hover {
    background: #1976d2 !important;
    color: #fff !important;
  }
</style>
</head>

<body>

  <!-- ===== NAVBAR ===== -->
  <nav class="navbar border-bottom shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="/" style="color: #1976d2 !important;">LP Studios</a>
      <div class="ms-auto d-flex gap-2">
        <a class="btn btn-outline-light btn-sm" href="/shop" style="background: #1976d2; color: #fff; border-color: #1976d2;">🛒 Tienda</a>
        <a class="btn btn-outline-danger btn-sm position-relative" href="/admin/balance/requests" style="background: #d32f2f; color: #fff; border-color: #d32f2f;">
          <i class="bi bi-bell-fill"></i> Solicitudes
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">5</span>
        </a>
        <a class="btn btn-outline-danger btn-sm" href="/admin" style="background: #d32f2f; color: #fff; border-color: #d32f2f;">👨‍💼 Admin</a>
        <a class="btn btn-outline-light btn-sm" href="/logout" style="background: #1976d2; color: #fff; border-color: #1976d2;">
          <i class="bi bi-box-arrow-right me-1"></i> Salir
        </a>
      </div>
    </div>
  </nav>

  <!-- ===== MAIN CONTENT ===== -->
  <main class="container-fluid p-0">
    <div class="container py-5">

      <!-- ===== Encabezado ===== -->
      <div class="row mb-4">
        <div class="col">
          <h1 class="fw-bold">👨‍💼 Panel de Administración</h1>
          <p class="text-light">Bienvenido, <strong>Administrador</strong></p>
        </div>
      </div>

      <!-- ===== Estadísticas ===== -->
      <div class="row g-4 mb-4">
        <div class="col-md-4">
          <div class="card bg-primary text-white shadow-sm border-0">
            <div class="card-body text-center">
              <h5 class="card-title">👥 Usuarios</h5>
              <h2>__TOTAL_USERS__</h2>
              <a href="/admin/users" class="text-decoration-none" style="color: #1976d2;">Ver todos →</a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card bg-success text-white shadow-sm border-0">
            <div class="card-body text-center">
              <h5 class="card-title">🎬 Productos</h5>
              <h2>__TOTAL_PRODUCTS__</h2>
              <a href="/admin/media" class="text-decoration-none" style="color: #1976d2;">Gestionar →</a>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card bg-info text-white shadow-sm border-0">
            <div class="card-body text-center">
              <h5 class="card-title">👨‍💼 Admins</h5>
              <h2>__TOTAL_ADMINS__</h2>
              <p class="mb-0">Administradores activos</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== Accesos rápidos ===== -->
      <div class="row g-4">
        <div class="col-md-6">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">🎬 Gestión de Productos</h5>
            </div>
            <div class="card-body">
              <p>Crear, editar y eliminar productos multimedia.</p>
              <a href="/admin/media" class="btn btn-primary me-2">Ver productos</a>
              <a href="/admin/media/new" class="btn btn-success">➕ Nuevo producto</a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">📁 Gestión de Categorías</h5>
            </div>
            <div class="card-body">
              <p>Organizar productos en categorías jerárquicas.</p>
              <a href="/admin/categories" class="btn btn-primary">
                <i class="bi bi-folder-fill me-2"></i> Ver categorías
              </a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-danger text-white">
              <h5 class="mb-0">🔥 Gestión de Promociones</h5>
            </div>
            <div class="card-body">
              <p>Crear y administrar descuentos temporales.</p>
              <a href="/admin/promotions" class="btn btn-danger">
                <i class="bi bi-percent me-2"></i> Ver promociones
              </a>
              <div class="mt-3 text-muted small">
                Activas: <strong>__PROMO_ACTIVE__</strong> | Próximas: <strong>__PROMO_UPCOMING__</strong>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">👥 Gestión de Usuarios</h5>
            </div>
            <div class="card-body">
              <p>Ver y administrar usuarios del sistema.</p>
              <a href="/admin/users" class="btn btn-primary">Ver usuarios</a>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">🔐 Solicitudes de contraseña</h5>
            </div>
            <div class="card-body">
              <p>Revisar solicitudes de cambio de contraseña enviadas por los usuarios.</p>
              <a href="/admin/password-requests" class="btn btn-primary">
                <i class="bi bi-shield-lock me-2"></i>Ver solicitudes
              </a>
            </div>
          </div>
        </div>

        <div class="col-md-12">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">📊 Estadísticas Avanzadas</h5>
            </div>
            <div class="card-body">
              <p>Ver estadísticas detalladas, ingresos, distribución de productos y más.</p>
              <a href="/admin/statistics" class="btn btn-info">📈 Ver estadísticas completas</a>
            </div>
          </div>
        </div>
      </div>

      <!-- ===== Productos más comprados ===== -->
      <div class="row mt-5">
        <div class="col">
          <h3 class="fw-bold">⭐ Productos más comprados</h3>
          <div class="table-responsive">
            <table class="table align-middle" style="background: #e3eaf2; color: #222b45;">
              <thead>
                <tr>
                  <th>Título</th>
                  <th>Tipo</th>
                  <th>Precio</th>
                  <th>Rating</th>
                  <th>Compras</th>
                </tr>
              </thead>
              <tbody><!-- TOP_PURCHASES_ROWS --></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- ===== SCRIPTS ===== -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
